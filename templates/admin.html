{% extends "base.html" %}
{% block content %}
<h2 class="mb-3">Î Î¯Î½Î±ÎºÎ±Ï‚ Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ·Ï‚</h2>

<div class="mb-3">
  <a href="{{ url_for('create_article') }}" class="btn btn-success">â• ÎÎ­Î¿ Î†ÏÎ¸ÏÎ¿</a>
  <a href="{{ url_for('run_scraper', source='naftemporiki') }}" class="btn btn-primary">Scrape ÎÎ±Ï…Ï„ÎµÎ¼Ï€Î¿ÏÎ¹ÎºÎ®</a>
  <a href="{{ url_for('run_scraper', source='kathimerini') }}" class="btn btn-primary">Scrape ÎšÎ±Î¸Î·Î¼ÎµÏÎ¹Î½Î®</a>
  <a href="{{ url_for('run_scraper', source='all') }}" class="btn btn-primary">Scrape ÎŒÎ»Î±</a>
</div>

<table class="table table-striped table-bordered align-middle">
  <thead class="table-dark">
    <tr>
      <th>Î¤Î¯Ï„Î»Î¿Ï‚</th>
      <th>Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±</th>
      <th>ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î±</th>
      <th>Î•Î½Î­ÏÎ³ÎµÎ¹ÎµÏ‚</th>
    </tr>
  </thead>
  <tbody>
    {% for a in articles %}
    <tr>
      <td style="max-width: 300px; word-wrap: break-word;">{{ a['title'] }}</td>
      <td>{{ a['published_at'] }}</td>
      <td>{{ a['category'] or '-' }}</td>
      <td>
        <a href="{{ url_for('update_article', id=a['_id']) }}" class="btn btn-sm btn-warning">âœï¸ Î•Ï€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î±</a>
        <a href="{{ url_for('delete_article', id=a['_id']) }}" class="btn btn-sm btn-danger"
           onclick="return confirm('Î£Î¯Î³Î¿Ï…ÏÎ± Î½Î± Î´Î¹Î±Î³ÏÎ±Ï†ÎµÎ¯;')">ğŸ—‘ï¸ Î”Î¹Î±Î³ÏÎ±Ï†Î®</a>
      </td>
    </tr>
    {% else %}
    <tr>
      <td colspan="4" class="text-center">Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Î¬ÏÎ¸ÏÎ± ÏƒÏ„Î· Î²Î¬ÏƒÎ·.</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
